{{!-- views/index.hbs --}}
<div class="container mt-5">
  {{!-- search bar --}}
  <div class="container search-bar">
    <div class="search-bar-outer">
      <div class="search-bar-inner">
        <form action="/search"> 
          <h4 class="mb-2">尋找餐廳：</h4>
          <div class="input-group">
            <input 
              type="text" 
              name="keyword" 
              class="form-control"
              placeholder="輸入餐廳、分類" 
              value=""
              aria-label="Restaurant Name..." 
              aria-describedby="search-button">
            <div class="input-group-append">
              <button class="btn btn-major" type="submit" id="search-button"><i class="fas fa-search"></i></button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  {{!-- restaurant list --}}
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-10 col-12 mx-auto">
        <div class="row row-cols-sm-3"> {{!-- {{#each}} 放在此之下，避免強制每張卡片在新的一行上，導致每個 row 只含一張卡片 --}}
          {{#each restaurants as |restaurant|}} <!-- 已有 ID，故不用 restaurantsIndex -->
          <a href="/restaurant/{{restaurant.id}}" class="text-secondary">
            <!-- 期待使用者點擊每一張卡片，都能導向 /restaurant/:id 的路由，故用 /restaurant/:id 當成路徑，並套用 each 語法 id 的格式，即 {{restaurant.id}} -->
            <div class="card mb-3">
              <img class="card-img-top" src="{{restaurant.image}}" alt="{{restaurant.name}}">
              <div class="card-body p-3">
                <h6 class="card-title mb-1">{{restaurant.name}}</h6>

                <div class="restaurant-category mb-1">
                  <i class="fas fa-utensils pr-2"></i> {{restaurant.category}}
                </div>

                <span class="badge rounded-pill bg-danger font-weight-normal">
                  {{restaurant.rating}}
                  <i class="fas fa-star fa-xs"></i>
                </span>

              </div>
            </div>
          </a>
          {{/each}} {{!-- 使用 exch，故刪掉 2-8 的資料 --}}
        </div>
      </div>
    </div>
  </div>
</div>